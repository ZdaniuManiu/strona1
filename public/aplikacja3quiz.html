<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background-color: rgb(163, 217, 229);
            text-align: center;
            font-size: 25px;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
        }



        .start-btn-container button {
            position: absolute;
            left: 51%;
            top: 2%;
            transform: translate(-51%, -2%);
            border-radius: 5px;
            background-color: rgb(255, 255, 255);
            cursor: pointer;
            width: fit-content;
            transition: all .2s ease-in-out;
            font-size: large;
        }

        .start-btn-container button:hover {
            background-color: rgb(0, 244, 102);
            border-radius: 20px;
        }

        .quiz-container {
            display: none;
            margin-top: 50px;
            justify-content: center;
            height: 40vh;
            width: 600px;
            flex-wrap: wrap;
        }

        p {
            height: fit-content;
            width: inherit;
            margin-top: 10px;
        }

        input {
            display: flex;
            flex-wrap: wrap;
            width: 20px;
            margin-top: 25px;
        }

        .input-container {
            display: block;
            width: 600px;
            height: fit-content;
        }

        .input-container1 {
            width: inherit;
            margin-left: 20px;
        }


        .option {
            display: flex;
            align-items: center;
            align-content: center;
            margin-bottom: 40px;
        }

        .option input {
            align-items: center;
            margin-bottom: 20px;
        }

        .option input::selection {
            color: blue;
            size: 20px;
        }

        input[type="radio"]:checked {
            color: white;
        }

        .option label:hover {
            background-color: rgb(120, 194, 210);
        }

        .option label {
            display: flex;
            width: fit-content;
            padding: 1px;
            border: 1px solid rgba(0, 0, 0, 0.074);
            border-radius: 3px;
        }

        .bottom-btn-container button:hover {
            background-color: rgb(0, 244, 102);
            padding: 5px 10px;
            border-radius: 20px;
        }

        .bottom-btn-container button {
            display: inline-flex;
            border-radius: 10px;
            background-color: rgb(255, 255, 255);
            cursor: pointer;
            width: fit-content;
            transition: all .2s ease-in-out;
            font-size: large;
        }

        #next-btn {
            display: inline-flex;
        }

        .score {
            display: none;
            margin: 20%;
        }

        #check-btn {
            display: none;
        }

        @media (max-width:1000px) {
            body {
                width: 412px;
            }

            .quiz-container {
                width: 100vw;
                flex-wrap: wrap;
                margin-left: 15px;
                font-size: large;
            }

            .start-btn-container button:hover {
                background-color: grey;
                border-radius: 5px;
            }

            .start-btn-container button:disabled {
                background-color: grey;
            }
            .bottom-btn-container button:hover {
            background-color: none;
        }
        }

        @media (prefers-color-scheme: light) {
            #next-btn{
                background-color: white;
                color:black
            }
        }
    </style>
</head>

<body>
    <div class="start-btn-container">
        <button id="start-btn">Rozpocznij quiz</button>
    </div>
    <div class="quiz-container" id="quiz-container">
        <div class="question-container">
            <p id="nr-pytania">Pytanie nr. </p>
            <p id="pytanie">Lorem </p>
        </div>

        <div class="input-container1">
            <div class="input-container">
                <div class="option">

                    <input name="wybor" type="radio" value="0" id="wybor1">

                    <label for="wybor1" id="answer0">Lorem, </label>


                </div>
                <div class="option">

                    <input name="wybor" type="radio" value="1" id="wybor2">

                    <label for="wybor2" id="answer1">Lorem ipsum dolo</label>


                </div>
                <div class="option">

                    <input name="wybor" type="radio" value="2" id="wybor3">

                    <label for="wybor3" id="answer2">lorem3</label>


                </div>
                <div class="option">

                    <input name="wybor" type="radio" value="3" id="wybor4">

                    <label for="wybor4" id="answer3">lorem4</label>


                </div>
            </div>
        </div>
        <div class="bottom-btn-container">
            <div>
                <button id="next-btn"> Kolejne pytanie</button>
                <button id="check-btn">Sprawdź odpowiedź</button>
            </div>
        </div>
    </div>
    <h1 class="score" id="score">TWÓJ WYNIK TO: </h1>
    <script>
        const pytania = [{
            pytanie: "Co oznacza skrót HTML?",
            //                              0                               1                     2                  3
            answer: ["Hyper Transfer Machine Learning", "Hyper Text Markup Language", "Hot Mail", "Hyper Tool Modern Language"],
            correct: 1
        }, {
            pytanie: "Które z poniższych NIE jest językiem programowania?",
            //          0           1         2       3
            answer: ["JavaScript", "Python", "HTML", "Java"],
            correct: 2
        }, {
            pytanie: "Czym jest console.log() w JavaScript?",
            //                    0                                   1                                            2                                     3
            answer: ["Funkcją do rysowania w konsoli", "Komendą do tworzenia nowych zmiennych", "Funkcją do debugowania i wypisywania danych", "Poleceniem do czyszczenia strony"],
            correct: 2
        },

        ];
        const $ = document.getElementById.bind(document);
        const next = $("next-btn");
        const start = $("start-btn")
        const quiz = $("quiz-container")
        const wynik = $("score")
        const sprawdz = $("check-btn")
        let i = 1 // "PYTANIE NR.1,2,3,4"
        let score = 0
        let j = 0 // NUMER PYTANIA
        let k = 1 // konczenie quizy
        let ii = 0 // pytania

        start.addEventListener('click', function () {

            start.disabled = true
            start.style.cursor = "not-allowed"
            start.textContent = "Rozpocznij quiz"

            next.textContent = "Kolejne pytanie"
            next.style.display = 'inline-flex'

            sprawdz.style.display = 'none'
            quiz.style.display = 'flex'
            wynik.style.display = 'none'



            for (ii = 0; ii < 4; ii++) {
                document.getElementById("answer" + ii).textContent = pytania[0].answer[ii];
            }

            document.getElementById("pytanie").textContent = pytania[0 + j].pytanie;
            document.getElementById("nr-pytania").textContent = "Pytanie nr. " + i
            ii = 0
        })


        next.addEventListener('click', function pytanie() {

            const zaznaczone = document.querySelector('input[name="wybor"]:checked');

            if (zaznaczone) {
                console.log("i=" + i, "k=" + k, "j=" + j, "ii=" + ii)
                i++
                j++
                const wybranaOdp = parseInt(zaznaczone.value);
                if (wybranaOdp === pytania[j - 1].correct) {
                    score++;
                }

                if (k < pytania.length) {
                    document.getElementById("nr-pytania").textContent = "Pytanie nr. " + i
                    document.getElementById("pytanie").textContent = pytania[0 + j].pytanie;

                    for (ii = 0; ii < 4; ii++) {
                        document.getElementById("answer" + ii).textContent = pytania[0 + j].answer[ii];
                        document.getElementById("wybor" + (ii + 1)).checked = false
                    }

                    ii = 0
                    k++
                    console.log("i=" + i, "k=" + k, "j=" + j, "ii=" + ii)

                    if (k == pytania.length) {
                        next.textContent = "Zakończ QUIZ"
                    }
                } else {
                    start.textContent = "Powtórz quiz"
                    start.style.cursor = "pointer"
                    start.disabled = false

                    wynik.style.display = 'block'
                    wynik.textContent = "Twój wynik to: " + score + "/" + pytania.length;


                    quiz.style.display = 'none'
                    next.style.display = 'none'
                    sprawdz.style.display = 'flex'
                    k = 1
                    i = 1
                    j = 0
                    ii = 0
                    score = 0
                }
            } else {
                alert("Wybierz odpowiedz!")
                return;
            }
        });
    </script>
</body>

</html>